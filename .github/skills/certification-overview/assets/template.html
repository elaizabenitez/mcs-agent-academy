<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{course} Issue Report</title>

  <style>
    :root{
      --bg:#0b1020;
      --panel:rgba(255,255,255,0.06);
      --panel2:rgba(255,255,255,0.09);
      --border:rgba(255,255,255,0.12);

      --text:rgba(255,255,255,0.92);
      --muted:rgba(255,255,255,0.65);
      --faint:rgba(255,255,255,0.45);

      --accent:#7c5cff;
      --accent2:#14b8a6;
      --ok:#22c55e;
      --warn:#fbbf24;
      --danger:#fb7185;

      --shadow:0 18px 50px rgba(0,0,0,0.45);
      --radius:16px;
      --radiusSm:12px;

      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family:var(--font);
      color:var(--text);
      background:
        radial-gradient(900px 500px at 15% -10%, rgba(124,92,255,0.35), transparent 60%),
        radial-gradient(900px 500px at 85% -15%, rgba(20,184,166,0.25), transparent 60%),
        radial-gradient(900px 600px at 50% 110%, rgba(251,113,133,0.15), transparent 55%),
        var(--bg);
      line-height:1.5;
    }

    .container{
      max-width:1120px;
      margin:0 auto;
      padding:28px 18px 60px;
    }

    header{
      border:1px solid var(--border);
      border-radius:var(--radius);
      background: linear-gradient(135deg, rgba(255,255,255,0.09), rgba(255,255,255,0.03));
      box-shadow:var(--shadow);
      overflow:hidden;
      position:relative;
    }
    header::before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(500px 220px at 18% 10%, rgba(124,92,255,0.55), transparent 60%),
        radial-gradient(450px 220px at 90% 10%, rgba(20,184,166,0.35), transparent 60%);
      opacity:.35;
      pointer-events:none;
    }
    .headerInner{
      position:relative;
      padding:18px 18px 16px;
    }

    .topRow{
      display:flex;
      gap:16px;
      align-items:flex-start;
      justify-content:space-between;
      flex-wrap:wrap;
    }

    .badgeBlock{
      display:flex;
      gap:14px;
      align-items:center;
      min-width:280px;
    }
    .badgeImg{
      width:78px;
      height:78px;
      border-radius:18px;
      border:1px solid rgba(255,255,255,0.14);
      background: rgba(0,0,0,0.18);
      box-shadow: 0 12px 30px rgba(0,0,0,0.35);
      object-fit: cover;
    }

    h1{
      margin:0;
      font-size: clamp(20px, 3vw, 32px);
      letter-spacing:-0.02em;
    }
    .subtitle{
      margin:6px 0 0;
      color:var(--muted);
      max-width:80ch;
    }

    .meta{
      text-align:right;
      min-width:240px;
      display:flex;
      flex-direction:column;
      gap:10px;
      align-items:flex-end;
    }
    .meta small{ color:var(--muted); }
    .mono{ font-family:var(--mono); }

    .chips{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      justify-content:flex-end;
    }
    .chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:7px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      background: rgba(0,0,0,0.18);
      user-select:none;
      white-space:nowrap;
      font-size:12px;
    }
    .dot{
      width:9px; height:9px; border-radius:50%;
      background:var(--accent);
      box-shadow:0 0 0 3px rgba(124,92,255,0.18);
    }
    .dot.ok{ background:var(--ok); box-shadow:0 0 0 3px rgba(34,197,94,0.18); }
    .dot.warn{ background:var(--warn); box-shadow:0 0 0 3px rgba(251,191,36,0.18); }
    .dot.danger{ background:var(--danger); box-shadow:0 0 0 3px rgba(251,113,133,0.18); }

    .grid{
      display:grid;
      gap:14px;
      margin-top:14px;
    }
    @media (min-width: 920px){
      .grid.cols-4{ grid-template-columns: repeat(4, minmax(0,1fr)); }
      .grid.cols-2{ grid-template-columns: 1fr 1fr; }
    }

    .kpi{
      border:1px solid var(--border);
      border-radius:var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04));
      padding:14px 14px 12px;
    }
    .kpi .label{ color:var(--muted); font-size:12px; margin-bottom:6px; }
    .kpi .value{ margin:0; font-size:22px; font-weight:650; letter-spacing:-0.02em; }
    .kpi .note{ margin-top:6px; color:var(--muted); font-size:12px; }

    section{
      margin-top:16px;
      border:1px solid var(--border);
      background:var(--panel);
      border-radius:var(--radius);
      overflow:hidden;
    }
    .sectionHead{
      display:flex;
      align-items:baseline;
      justify-content:space-between;
      gap:12px;
      padding:14px 16px;
      background: rgba(255,255,255,0.04);
      border-bottom:1px solid rgba(255,255,255,0.08);
    }
    .sectionHead h2{
      margin:0;
      font-size:15px;
      letter-spacing:-0.01em;
    }
    .sectionHead .right{
      color:var(--muted);
      font-size:12px;
      white-space:nowrap;
    }
    .sectionBody{
      padding:14px 16px 16px;
    }
    .sectionBody p{
      margin:0 0 10px;
      color:var(--muted);
      max-width:92ch;
    }

    .tableWrap{
      border:1px solid rgba(255,255,255,0.10);
      border-radius:var(--radiusSm);
      overflow:hidden;
      background: rgba(0,0,0,0.14);
    }
    table{
      width:100%;
      border-collapse:separate;
      border-spacing:0;
      font-size:13px;
    }
    thead th{
      position:sticky;
      top:0;
      z-index:1;
      text-align:left;
      font-weight:600;
      color: rgba(255,255,255,0.85);
      background: rgba(12,16,32,0.92);
      border-bottom:1px solid rgba(255,255,255,0.10);
      padding:10px 12px;
    }
    tbody td{
      padding:10px 12px;
      border-bottom:1px solid rgba(255,255,255,0.07);
      color: rgba(255,255,255,0.86);
      vertical-align:top;
    }
    tbody tr:nth-child(even) td{ background: rgba(255,255,255,0.03); }
    tbody tr:hover td{ background: rgba(124,92,255,0.10); }
    th.num, td.num{ text-align:right; font-variant-numeric: tabular-nums; }
    td.mono{ font-family:var(--mono); font-size:12px; color: rgba(255,255,255,0.78); }

    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      background: rgba(0,0,0,0.16);
      white-space:nowrap;
    }

    .tag{
      display:inline-block;
      font-size:11px;
      padding:3px 8px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.18);
      margin-right:6px;
      margin-bottom:4px;
      color: rgba(255,255,255,0.85);
    }
    .tag.ok{ border-color: rgba(34,197,94,0.35); }
    .tag.warn{ border-color: rgba(251,191,36,0.35); }
    .tag.danger{ border-color: rgba(251,113,133,0.35); }

    footer{
      margin-top:16px;
      color:var(--faint);
      font-size:12px;
      display:flex;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
      padding:0 6px;
    }

    @media print{
      body{ background:#fff; color:#111; }
      header, section, .kpi, .tableWrap{ box-shadow:none !important; }
      header, section, .kpi{ background:#fff !important; border-color:#ddd !important; }
      .subtitle, .sectionHead .right, footer, .sectionBody p, .kpi .label, .kpi .note{ color:#333 !important; }
      thead th{ background:#f6f6f6 !important; color:#111 !important; }
      tbody td{ color:#111 !important; }
      .chip, .pill, .tag{ background:#f6f6f6 !important; border-color:#ddd !important; }
    }
  </style>
</head>

<body>
  <div class="container">

    <!-- =========================
         OVERVIEW (Header)
         ========================= -->
    <header>
      <div class="headerInner">
        <div class="topRow">
          <div class="badgeBlock">
            <img
              class="badgeImg"
              src="https://raw.githubusercontent.com/microsoft/agent-academy/main/docs/images/mcs-agent-academy-{course}-badge.png"
              alt="Course badge"
            />

            <div>
              <h1>Course Certification Readiness Report</h1>
              <p class="subtitle">
                Overview of issue health, open/closed trends, missing badges, blockers, and recommended next actions.
              </p>
            </div>
          </div>

          <div class="meta">
            <small>Generated: <strong id="generatedDate">2026-02-02</strong></small>
            <small>Course: <strong id="courseName">{course}</strong></small>

            <div class="chips">
              <span class="chip"><span class="dot"></span>Total open: <strong id="kpiOpen">—</strong></span>
              <span class="chip"><span class="dot warn"></span>High priority: <strong id="kpiHigh">—</strong></span>
              <span class="chip"><span class="dot ok"></span>Closed (clean): <strong id="kpiClosedClean">—</strong></span>
              <span class="chip"><span class="dot danger"></span>Blockers: <strong id="kpiBlockers">—</strong></span>
            </div>
          </div>
        </div>

        <!-- Optional: short intro in Overview -->
        <div style="margin-top:12px; color: var(--muted); max-width: 92ch;">
          <strong style="color: rgba(255,255,255,0.9);">Overview:</strong>
          This report summarizes the current state of course-related issues and badge distribution signals, and proposes
          follow-up actions to improve certification readiness.
        </div>

        <!-- Optional KPI grid -->
        <div class="grid cols-4" style="margin-top:14px;">
          <div class="kpi">
            <div class="label">Open issues</div>
            <p class="value" id="kpiOpen2">—</p>
            <div class="note">Includes all priorities</div>
          </div>
          <div class="kpi">
            <div class="label">Oldest open (days)</div>
            <p class="value" id="kpiOldestDays">—</p>
            <div class="note">Used for prioritization</div>
          </div>
          <div class="kpi">
            <div class="label">Closed successfully</div>
            <p class="value" id="kpiClosedClean2">—</p>
            <div class="note">No follow-up questions</div>
          </div>
          <div class="kpi">
            <div class="label">Missing badges</div>
            <p class="value" id="kpiMissingBadges">—</p>
            <div class="note">Reported as not received</div>
          </div>
        </div>
      </div>
    </header>

    <!-- =========================
         ISSUE SUMMARY
         ========================= -->
    <section>
      <div class="sectionHead">
        <h2>Issue Summary</h2>
        <div class="right">Counts by priority and type</div>
      </div>
      <div class="sectionBody">
        <p>
          Provide a breakdown of open issue counts by priority. Add additional dimensions if useful (category, module, region).
        </p>

        <div class="tableWrap">
          <table aria-label="Issue summary table">
            <thead>
              <tr>
                <th>Priority</th>
                <th class="num">Open</th>
                <th class="num">Closed (clean)</th>
                <th class="num">Closed (with later unanswered questions)</th>
                <th class="num">Missing badge reports</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><span class="tag danger">P0</span>Critical</td>
                <td class="num">0</td>
                <td class="num">0</td>
                <td class="num">0</td>
                <td class="num">0</td>
              </tr>
              <tr>
                <td><span class="tag warn">P1</span>High</td>
                <td class="num">—</td>
                <td class="num">—</td>
                <td class="num">—</td>
                <td class="num">—</td>
              </tr>
              <tr>
                <td><span class="tag">P2</span>Medium</td>
                <td class="num">—</td>
                <td class="num">—</td>
                <td class="num">—</td>
                <td class="num">—</td>
              </tr>
              <tr>
                <td><span class="tag">P3</span>Low</td>
                <td class="num">—</td>
                <td class="num">—</td>
                <td class="num">—</td>
                <td class="num">—</td>
              </tr>
            </tbody>
          </table>
        </div>

        <p style="margin-top:12px;">
          Notes: define priority levels and any SLA expectations (e.g., P0 within 24h, P1 within 3 business days).
        </p>
      </div>
    </section>

    <!-- =========================
         SUCCESSFULLY CLOSED ISSUES
         ========================= -->
    <section>
      <div class="sectionHead">
        <h2>Successfully Closed Issues</h2>
        <div class="right">Closed with no follow-up questions</div>
      </div>
      <div class="sectionBody">
        <p>Issues that were resolved and closed successfully without further questions.</p>

        <div class="tableWrap">
          <table aria-label="Successfully closed issues">
            <thead>
              <tr>
                <th>ID</th>
                <th>Title</th>
                <th>Priority</th>
                <th>Opened</th>
                <th>Closed</th>
                <th>Resolution summary</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="mono">#1234</td>
                <td>Example closed issue</td>
                <td><span class="tag">P2</span></td>
                <td class="mono">2026-01-10</td>
                <td class="mono">2026-01-12</td>
                <td>Clarified badge criteria and re-issued.</td>
              </tr>
              <!-- Add rows -->
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- =========================
         OPEN ISSUES (Oldest first)
         ========================= -->
    <section>
      <div class="sectionHead">
        <h2>Open Issues</h2>
        <div class="right">Prioritized by age (oldest first)</div>
      </div>
      <div class="sectionBody">
        <p>
          List currently open issues. Sort by “Days Open” descending (oldest first). Include a follow-up action.
        </p>

        <div class="tableWrap" style="max-height: 420px; overflow:auto;">
          <table aria-label="Open issues table" id="openIssuesTable">
            <thead>
              <tr>
                <th>ID</th>
                <th>Title</th>
                <th>Priority</th>
                <th>Opened</th>
                <th class="num">Days open</th>
                <th>Last activity</th>
                <th>Owner</th>
                <th>Follow-up action</th>
              </tr>
            </thead>
            <tbody>
              <!-- Oldest first (example rows) -->
              <tr>
                <td class="mono">#1188</td>
                <td>Badge not received - email mismatch</td>
                <td><span class="tag warn">P1</span></td>
                <td class="mono">2025-12-20</td>
                <td class="num" data-days="44">44</td>
                <td class="mono">2026-01-03</td>
                <td>Support</td>
                <td>Ask to resubmit form (confirm email + screenshot)</td>
              </tr>
              <tr>
                <td class="mono">#1210</td>
                <td>Quiz completion not recorded</td>
                <td><span class="tag">P2</span></td>
                <td class="mono">2026-01-15</td>
                <td class="num" data-days="18">18</td>
                <td class="mono">2026-01-29</td>
                <td>Engineering</td>
                <td>Investigate telemetry; reply with steps; close if resolved</td>
              </tr>
              <tr>
                <td class="mono">#1222</td>
                <td>Duplicate submission - unclear which one counts</td>
                <td><span class="tag">P3</span></td>
                <td class="mono">2026-01-28</td>
                <td class="num" data-days="5">5</td>
                <td class="mono">2026-01-30</td>
                <td>Ops</td>
                <td>Close due to inactivity (7 days) unless user responds</td>
              </tr>
              <!-- Add rows -->
            </tbody>
          </table>
        </div>

        <p style="margin-top:12px;">
          Suggested actions include: close due to inactivity, ask to resubmit form, request missing details, escalate to engineering, or confirm badge email.
        </p>
      </div>
    </section>

    <!-- =========================
         CLOSED ISSUE PROBLEMS
         ========================= -->
    <section>
      <div class="sectionHead">
        <h2>Closed Issue Problems</h2>
        <div class="right">Closed, then follow-up questions went unanswered</div>
      </div>
      <div class="sectionBody">
        <p>
          These were closed but later had questions that remained unanswered (either from the reporter or the team).
          Consider reopening or proactively reaching out.
        </p>

        <div class="tableWrap">
          <table aria-label="Closed issue problems">
            <thead>
              <tr>
                <th>ID</th>
                <th>Title</th>
                <th>Priority</th>
                <th>Closed</th>
                <th>Last question date</th>
                <th>Unanswered question</th>
                <th>Recommended action</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="mono">#1102</td>
                <td>Badge criteria confusion</td>
                <td><span class="tag">P2</span></td>
                <td class="mono">2026-01-05</td>
                <td class="mono">2026-01-09</td>
                <td>“Which module completion counts for the badge?”</td>
                <td>Reply + clarify; reopen if still relevant</td>
              </tr>
              <!-- Add rows -->
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- =========================
         MISSING BADGES
         ========================= -->
    <section>
      <div class="sectionHead">
        <h2>Missing Badges</h2>
        <div class="right">Badge added, but reported not received</div>
      </div>
      <div class="sectionBody">
        <p>
          Issues where badge issuance is believed to have occurred, but the learner reports not receiving it.
          Common causes: email mismatch, spam filtering, Credly account mismatch, timing delays.
        </p>

        <div class="tableWrap">
          <table aria-label="Missing badges table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Learner</th>
                <th>Email (reported)</th>
                <th>Badge action date</th>
                <th>Evidence</th>
                <th>Recommended follow-up</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="mono">#1199</td>
                <td>—</td>
                <td class="mono">user@example.com</td>
                <td class="mono">2026-01-20</td>
                <td>“Still not in Credly”</td>
                <td>Confirm email; ask for Credly profile link; re-issue if needed</td>
              </tr>
              <!-- Add rows -->
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- =========================
         BLOCKERS
         ========================= -->
    <section>
      <div class="sectionHead">
        <h2>Blockers</h2>
        <div class="right">Critical issues requiring attention</div>
      </div>
      <div class="sectionBody">
        <p>
          List critical blockers (system outages, broken flows, badge automation failures, form submission issues).
        </p>

        <div class="tableWrap">
          <table aria-label="Blockers table">
            <thead>
              <tr>
                <th>Blocker</th>
                <th>Impact</th>
                <th>Owner</th>
                <th>Status</th>
                <th>ETA / Next step</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Badge automation intermittently fails</td>
                <td>Eligible learners not receiving badges</td>
                <td>Engineering</td>
                <td><span class="pill"><span class="dot danger"></span>Active</span></td>
                <td>Identify root cause; add retry + alerting</td>
              </tr>
              <!-- Add rows -->
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- =========================
         FURTHER RECOMMENDATIONS
         ========================= -->
    <section>
      <div class="sectionHead">
        <h2>Further Recommendations</h2>
        <div class="right">Actions to improve certification readiness</div>
      </div>
      <div class="sectionBody">
        <p>
          Suggestions to reduce recurring issues and improve learner experience and readiness.
        </p>

        <div class="tableWrap">
          <table aria-label="Recommendations table">
            <thead>
              <tr>
                <th>Recommendation</th>
                <th>Why it helps</th>
                <th>Owner</th>
                <th>Effort</th>
                <th>Target date</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Add a standard “badge troubleshooting” reply template</td>
                <td>Reduces back-and-forth and clarifies email/Credly steps</td>
                <td>Support</td>
                <td>Low</td>
                <td class="mono">—</td>
              </tr>
              <tr>
                <td>Introduce an auto-close policy with warnings at 7 and 14 days</td>
                <td>Keeps backlog healthy and sets expectations</td>
                <td>Ops</td>
                <td>Low</td>
                <td class="mono">—</td>
              </tr>
              <tr>
                <td>Telemetry for quiz completion + badge issuance correlation</td>
                <td>Speeds diagnosis of “completion not recorded” issues</td>
                <td>Engineering</td>
                <td>Medium</td>
                <td class="mono">—</td>
              </tr>
              <!-- Add rows -->
            </tbody>
          </table>
        </div>

        <p style="margin-top:12px;">
          Optional: add an “Owner checklist” for closure criteria, and a weekly review cadence for the oldest open issues.
        </p>
      </div>
    </section>

    <footer>
      <div>Course: <span class="mono" id="courseNameFooter">{course}</span></div>
      <div>Generated: <span class="mono" id="generatedDateFooter">2026-02-02</span></div>
      <div>Confidential - Internal Use Only</div>
    </footer>
  </div>

  <!-- Optional: auto-fill generated date & keep Open Issues sorted by Days Open (oldest first) -->
  <script>
    (function(){
      // Date fill
      const d = new Date();
      const iso = d.toISOString().slice(0,10);
      const dateEls = ["generatedDate","generatedDateFooter"].map(id => document.getElementById(id)).filter(Boolean);
      dateEls.forEach(el => el.textContent = iso);

      // Course fill (set this once)
      const course = "{course}";
      const courseEls = ["courseName","courseNameFooter"].map(id => document.getElementById(id)).filter(Boolean);
      courseEls.forEach(el => el.textContent = course);

      // Sort open issues by days open (desc = oldest first)
      const table = document.getElementById("openIssuesTable");
      if(table){
        const tbody = table.querySelector("tbody");
        const rows = Array.from(tbody.querySelectorAll("tr"));
        rows.sort((a,b)=>{
          const da = Number(a.querySelector("[data-days]")?.getAttribute("data-days") || 0);
          const db = Number(b.querySelector("[data-days]")?.getAttribute("data-days") || 0);
          return db - da;
        });
        rows.forEach(r => tbody.appendChild(r));
      }

      // OPTIONAL: KPI placeholders (wire these up to real data if you have it)
      const set = (id, val) => { const el = document.getElementById(id); if(el) el.textContent = val; };
      set("kpiOpen", "—");
      set("kpiHigh", "—");
      set("kpiClosedClean", "—");
      set("kpiBlockers", "—");
      set("kpiOpen2", "—");
      set("kpiOldestDays", "—");
      set("kpiClosedClean2", "—");
      set("kpiMissingBadges", "—");
    })();
  </script>
</body>
</html>
